<head>
  <title>Spain Covid-19 risk</title>
  <link
    rel="stylesheet"
    href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
    integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T"
    crossorigin="anonymous"
  />

  <link rel="stylesheet" href="Spain-covid-19.css" />
</head>

<body>
  <div class="loader v-align"></div>
  <iframe
    onload="document.getElementById('m1').classList.add('selected');"
    id="m1"
    class="abs-top-left map"
    src="https://rstudio-pubs-static.s3.amazonaws.com/593954_44c088afae2e44d4af15648b9affdf80.html"
    title=""
  ></iframe>

  <iframe
    id="m2"
    class="abs-top-left map"
    src="https://rstudio-pubs-static.s3.amazonaws.com/595575_fafb5ba461324866a8e239621df6b48e.html"
    title=""
  ></iframe>

  <iframe
    id="m3"
    class="abs-top-left map"
    src="https://rstudio-pubs-static.s3.amazonaws.com/595601_b0d97399ec9a424da78140490eebccab.html#"
    title=""
  ></iframe>

  <iframe
    id="m4"
    class="abs-top-left map"
    src="https://rstudio-pubs-static.s3.amazonaws.com/595606_ef39a543d2ee44049280d698ec9ebf48.html"
    title=""
  ></iframe>

  <div class="abs-btm-right">
    <a
      href="https://iaac.net/research-departments/advanced-architecture-group/"
      target="_blank"
    >
      <img
        src="https://i.ibb.co/qnFVm7T/AAG-IAAC-logoblanco1-1.png"
        alt="IAAC-Advanced Architecture Group"
        width="200"
      />
    </a>
  </div>

  <div class="menu-container abs-btm-left">
    <div
      id="t1"
      class="menu-message border-0 rounded bg-light fix-btm shadow-lg visible"
    >
    <!-- put the comment on the date-->
      <h2>Spanish healthcare assessment</h2>
      <p>
        Motivated by the pandemic Covid-19 outbreak, the study analyses the spanish healthcare system in order to question the adopted administrative-based approach with a GIS-based strategy, supported by geospatial analytics and grounded on local data.
        Through cumulative cost analysis and their relative catchment areas, it reports how large sections of the elderly population are disconnected to the health facilities.
      </p>
      
      <hr>
      <p>Explore the map to obtain more information,
        <br>
      or select one of the layers on the right to see how the analysis was created  &nbsp &nbsp &nbsp â†’</p>
    </div>

    <div
      id="t2"
      class="menu-message border-0 rounded bg-light fix-btm shadow-lg"
    >
      <h2>Accessibility to hospitals and absolute capacity</h2>
      <p>
        The map draws the degree of reachability of the Spanish healthcare system over the inland national territory.
        It is obtained by merging multiple cumulative cost analysis, which simulate the time spent from each hospital to reach every portion of land according to the road infrastructure and the terrain morphology. 
      </p>
      <hr>
      <p>
        This map highlights the geolocalized unbalances of the national healthcare system and reports the absolute availabilty of beds per hospital
      </p>


    </div>

    <div
      id="t3"
      class="menu-message border-0 rounded bg-light fix-btm shadow-lg"
    >
      <h2>Relative availability of beds and ICU</h2>
      <p>
        Based on the accessibility analysis, the map extracts the catchment areas of the Spanish healthcare system. It partitions the country into zones depending on the most reachable hospital. This becomes relevant to compare the availability of beds and of Intensive Care Unit (ICU) of each hospital in relation to the number of citizens they would serve by proximity. 
        </p>
        <hr>
        <p>
        The radius of the circles is representative of the number of beds in the hospital per 1000persons while the color shows the availability of Intensive care units. The latter is mapped from regional data and it is indicatory.
      </p>
    </div>

    <div
      id="t4"
      class="menu-message border-0 rounded bg-light fix-btm shadow-lg"
    >
      <h2>Covid cases and demographic data</h2>
      <p>
        Once the settlments are associeted to their local degree of available assistance, the analysis focuses on the specificity of the pandemic outbreak. It reports the number of Covid-19 cases per region and highlights the settlements at a higher risk in consideration to the total population and the median age. 
      </p>
      <hr>
      <p>
        These features are represented respectively as the radius of the dots and their brightness. 
      </p>
    </div>

    

    <ul class="menu-btn-v fix-btm super-top">
      <li class="btn-v">
        <button
          id="b1"
          class="border rounded shadow-sm  bg-light b btn-selected"
          onclick="toggleStatus('1')">
          <img src="ico/icon-08.png" width="100%" height="100%"></img>
        </button>
      </li>
      <li class="btn-v">
        <button
          id="b2"
          class="border rounded shadow-sm bg-light b"
          onclick="toggleStatus('2')"
        >
        <img src="ico/icon-05.png" width="100%" height="100%"></img>
        </button>
      </li>
      <li class="btn-v">
        <button
          id="b3"
          class="border rounded bg-light shadow-sm b"
          onclick="toggleStatus('3')"
        >
        <img src="ico/icon-06.png" width="100%" height="100%"></img>
        </button>
      </li>
      <li class="btn-v">
        <button
          id="b4"
          class="border rounded bg-light shadow-sm b"
          onclick="toggleStatus('4')"
        >
        <img src="ico/icon-07.png" width="100%" height="100%"></img>
        </button>
      </li>
    </ul>
  </div>

  <script>
    function toggleStatus(e) {

      mapId = e;

      // Update Maps properties
      map_all = document.getElementsByClassName("map");     

      for (let i = 0; i < map_all.length; i++) {
        map_all[i].classList.remove("selected");
      }
      map_sel = document.getElementById(String("m" + e));
      console.log(map_sel);
      map_sel.classList.add("selected");

      // Update Text properties
      text_all = document.getElementsByClassName("menu-message")
      for (let i = 0; i < text_all.length; i++) {
        text_all[i].classList.remove("visible");
      }
      text_sel = document.getElementById(String("t" + e))
      text_sel.classList.add("visible")

      
      // Update Button properties
      btn_all = document.getElementsByClassName("b")
      for (let i = 0; i < text_all.length; i++) {
        btn_all[i].classList.remove("btn-selected");
      }
      btn_sel = document.getElementById(String("b" + e))
      btn_sel.classList.add("btn-selected")


    }
  </script>
</body>
